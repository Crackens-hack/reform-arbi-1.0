# /app/dev/bash/.bashrc_custom

# Fallback de prompt si no carga .bash_prompt
PS1='\u@\h:\W\$ '

shopt -s expand_aliases || true

# Directorio del repo bash
BASHDIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )"

# 1) ENV primero (para que impacte en todo lo demás)
[ -f "$BASHDIR/.bash_env" ] && . "$BASHDIR/.bash_env"

# 2) Aliases
[ -f "$BASHDIR/.bash_aliases" ] && . "$BASHDIR/.bash_aliases"

# 3) Funciones (si las tenés)
[ -f "$BASHDIR/.bash_functions" ] && . "$BASHDIR/.bash_functions"

# 4) Prompt dinámico (usa variables del ENV si quiere)
[ -f "$BASHDIR/.bash_prompt" ] && . "$BASHDIR/.bash_prompt"

# 5) (Opcional) Completados extra
[ -f "$BASHDIR/.bash_completion_extras" ] && . "$BASHDIR/.bash_completion_extras"

# /app/dev/bash/.bashrc_custom  (al final)
# Refrescar PS1 automáticamente en cada prompt
if type _bash_ps1_refresh >/dev/null 2>&1; then
  PROMPT_COMMAND="_bash_ps1_refresh${PROMPT_COMMAND:+;$PROMPT_COMMAND}"
fi
